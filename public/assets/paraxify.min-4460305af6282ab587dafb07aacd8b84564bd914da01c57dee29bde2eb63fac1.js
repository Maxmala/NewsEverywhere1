!function(f,g){"use strict";var e;e=function(e,t){var i,o,s,n,h,r;return s={},n=[],o=r=h=0,(i=function(e,t){for(o in this.options={speed:1,boost:0},t)this.options[o]=t[o];if((this.options.speed<0||1<this.options.speed)&&(this.options.speed=1),e||(e="paraxify"),f.getElementsByClassName(e.replace(".","")))this.photos=f.getElementsByClassName(e.replace(".",""));else{if(!1===f.querySelector(e))throw new Error("The elements you're trying to select don't exist.");this.photos=querySelector(e)}s=this.options,n=this.photos,this._init(this)}).prototype={update:function(){for(r=g.innerHeight,o=0;o<n.length;)n[o].style.backgroundPosition="center center",n[o].url=g.getComputedStyle(n[o],!1).backgroundImage.replace(/url\((['"])?(.*?)\1\)/gi,"$2").split(",")[0],n[o].img||(n[o].img=new Image),n[o].url!==n[o].img.src&&(this._check(o),n[o].img.src=n[o].url),o++;this._animate()},_init:function(){this.update(),g.onscroll=function(){this._animate()}.bind(this),g.onresize=function(){this.update()}.bind(this)},_check:function(e){var t,i;(i=n[e]).ok=!0,i.bgSize=g.getComputedStyle(i,!1).backgroundSize,t=r,n[e].img.onload=function(){if(""===i.bgSize||"auto"===i.bgSize){if(this.height<i.offsetHeight)throw i.ok=!1,new Error("The image "+i.url+" ("+this.height+"px) is too short for that container ("+i.offsetHeight+"px).");t=this.height,this.height<r&&(t+=(r-i.offsetHeight)*s.speed)}else if("cover"===i.bgSize){if(r<i.offsetHeight)throw i.ok=!1,new Error("The container ("+i.offsetHeight+"px) can't be bigger than the image ("+r+"px).")}else g.getComputedStyle(i,!1).backgroundSize,this._check(e);i.diff=-(t-i.offsetHeight)*s.speed,i.diff=i.diff-i.offsetHeight*s.boost}},_visible:function(e){return h+r>n[e].offsetTop&&h<n[e].offsetTop+n[e].offsetHeight},_animate:function(){var e,t;for(h=void 0!==g.pageYOffset?g.pageYOffset:(f.documentElement||f.body.parentNode||f.body).scrollTop,o=0;o<n.length;)this._check(o),n[o].ok&&"fixed"===g.getComputedStyle(n[o],!1).backgroundAttachment&&this._visible(o)?(e=(h-n[o].offsetTop+r)/(n[o].offsetHeight+r),t=n[o].diff*(e-.5),"cover"!==n[o].bgSize&&(t+=(r-n[o].img.height)/2),t=Math.round(100*t)/100):t="center",n[o].style.backgroundPosition="center "+t+"px",o++}},new i(e,t)},g.paraxify=e}(document,window);